<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GODSWILLFLASHSCORE - Premium Sports Predictions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #0a0e27;
            color: #fff;
            min-height: 100vh;
        }

        .bg-gradient {
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0a0e27 100%);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
        }

        .bg-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255, 121, 63, 0.1) 0%, transparent 50%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(26, 31, 58, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        header h1 {
            font-size: 2em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
            letter-spacing: 1px;
        }

        .user-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            padding: 15px 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .user-badge {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .premium-tag {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .logout-btn {
            background: rgba(255, 59, 92, 0.15);
            border: 1px solid rgba(255, 59, 92, 0.3);
            padding: 10px 24px;
            border-radius: 12px;
            color: #ff3b5c;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: rgba(255, 59, 92, 0.25);
            transform: translateY(-2px);
        }

        .nav-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .tab-btn {
            padding: 14px 28px;
            background: rgba(26, 31, 58, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .tab-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.4);
            color: #fff;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: transparent;
            color: #fff;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .match-card {
            background: rgba(26, 31, 58, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .match-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .match-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .match-card:hover::before {
            opacity: 1;
        }

        .match-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            gap: 15px;
        }

        .league-info {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #667eea;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .league-badge {
            width: 24px;
            height: 24px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .teams-container {
            flex: 1;
        }

        .teams {
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .match-time {
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
            font-weight: 500;
        }

        .prediction-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .confidence-bar {
            margin-top: 8px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        .confidence-meter {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-top: 6px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: width 1s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 20px;
        }

        .stat-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 14px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
        }

        .premium-lock {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(8px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 16px;
            z-index: 10;
        }

        .lock-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.8;
        }

        .upgrade-cta {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: #fff;
            padding: 16px 40px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
        }

        .upgrade-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 87, 108, 0.6);
        }

        .auth-container {
            max-width: 480px;
            margin: 60px auto;
            background: rgba(26, 31, 58, 0.8);
            backdrop-filter: blur(20px);
            padding: 50px 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .auth-container h2 {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .input-group {
            margin-bottom: 24px;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .input-group input {
            width: 100%;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-size: 15px;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.08);
        }

        .input-group input::placeholder {
            color: rgba(255, 255, 255, 0.3);
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .switch-auth {
            text-align: center;
            margin-top: 24px;
            color: rgba(255, 255, 255, 0.6);
        }

        .switch-auth a {
            color: #667eea;
            cursor: pointer;
            text-decoration: none;
            font-weight: 600;
        }

        .loading {
            text-align: center;
            padding: 60px 20px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 24px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-msg {
            background: rgba(255, 59, 92, 0.15);
            border: 1px solid rgba(255, 59, 92, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            color: #ff6b8a;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(26, 31, 58, 0.95);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.5);
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: #ff3b5c;
        }

        .payment-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #667eea;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }

        .payment-detail {
            display: flex;
            justify-content: space-between;
            padding: 14px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .payment-detail strong {
            color: #667eea;
        }

        .important-box {
            background: rgba(255, 87, 108, 0.15);
            border: 2px solid #f5576c;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .developer-credit {
            text-align: center;
            margin-top: 40px;
            padding: 24px;
            background: rgba(26, 31, 58, 0.6);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 14px;
            line-height: 1.8;
        }

        .developer-credit a {
            color: #667eea;
            text-decoration: none;
        }

        /* Admin Menu */
        .admin-menu {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            z-index: 1000;
            opacity: 0.1;
            transition: opacity 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 5px;
            padding: 10px;
            background: rgba(26, 31, 58, 0.8);
            border-radius: 8px;
        }

        .admin-menu:hover {
            opacity: 1;
        }

        .hamburger {
            width: 20px;
            height: 3px;
            background: #667eea;
            border-radius: 2px;
        }

        .admin-panel {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .user-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .user-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .user-info-detail {
            flex: 1;
        }

        .user-actions {
            display: flex;
            gap: 10px;
        }

        .badge {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .badge-premium {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .badge-free {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-small {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-activate {
            background: #667eea;
            color: #fff;
        }

        .btn-remove {
            background: #ff4444;
            color: #fff;
        }

        .btn-small:hover {
            transform: scale(1.05);
        }

        .search-box {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 16px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5em;
            }

            .teams {
                font-size: 1.1em;
            }

            .match-header {
                flex-direction: column;
            }

            .prediction-badge {
                width: 100%;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .user-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .user-actions {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="bg-gradient"></div>

    <!-- Admin Menu (Hidden) -->
    <div class="admin-menu" onclick="showAdminLogin()">
        <div class="hamburger"></div>
        <div class="hamburger"></div>
        <div class="hamburger"></div>
    </div>

    <!-- Auth Container -->
    <div id="authContainer" class="auth-container">
        <h2>GODSWILLFLASHSCORE</h2>
        
        <div id="loginForm">
            <div class="input-group">
                <label>Email</label>
                <input type="email" id="loginEmail" placeholder="Enter your email">
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="loginPassword" placeholder="Enter your password">
            </div>
            <button class="btn-primary" onclick="login()">Login</button>
            <div class="switch-auth">
                Don't have an account? <a onclick="switchToSignup()">Sign Up</a>
            </div>
        </div>

        <div id="signupForm" style="display: none;">
            <div class="input-group">
                <label>Username</label>
                <input type="text" id="signupUsername" placeholder="Choose a username">
            </div>
            <div class="input-group">
                <label>Email</label>
                <input type="email" id="signupEmail" placeholder="Enter your email">
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="signupPassword" placeholder="Create a password (min 6 characters)">
            </div>
            <button class="btn-primary" onclick="signup()">Sign Up</button>
            <div class="switch-auth">
                Already have an account? <a onclick="switchToLogin()">Login</a>
            </div>
        </div>

        <div class="developer-credit">
            <strong>Created by "·¥Ö·¥á·¥†…¢·¥è·¥ÖÍú±·¥°…™ ü ü"</strong><br>
            üìß <a href="mailto:Ihechigodswill575@gmail.com">Ihechigodswill575@gmail.com</a><br>
            üëª Snapchat: <strong>KIZOELITE_2</strong>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" class="container" style="display: none;">
        <header>
            <h1>GODSWILLFLASHSCORE</h1>
        </header>

        <div class="user-bar">
            <div class="user-badge">
                <span>Welcome, <strong id="currentUsername"></strong></span>
                <span id="premiumBadge" style="display: none;" class="premium-tag">Premium</span>
            </div>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('predictions')">Today's Matches</button>
            <button class="tab-btn" onclick="showTab('analysis')">üîí Detailed Analysis</button>
            <button class="tab-btn" onclick="showTab('history')">üîí History & Stats</button>
            <button class="tab-btn" onclick="showTab('upgrade')">‚≠ê Upgrade</button>
        </div>

        <div id="predictions" class="tab-content active">
            <div id="predictionsLoading" class="loading">
                <div class="spinner"></div>
                <p>Loading today's predictions...</p>
            </div>
            <div id="predictionsList"></div>
        </div>

        <div id="analysis" class="tab-content">
            <div class="match-card">
                <h2>Detailed Match Analysis</h2>
                <div class="premium-lock">
                    <div class="lock-icon">üîí</div>
                    <h3>Premium Feature</h3>
                    <p>Unlock detailed statistical analysis and expert insights</p>
                    <button class="upgrade-cta" onclick="showTab('upgrade')">Upgrade to Premium</button>
                </div>
            </div>
        </div>

        <div id="history" class="tab-content">
            <div class="match-card">
                <h2>Prediction History</h2>
                <div class="premium-lock">
                    <div class="lock-icon">üîí</div>
                    <h3>Premium Feature</h3>
                    <p>View complete prediction history and accuracy rates</p>
                    <button class="upgrade-cta" onclick="showTab('upgrade')">Upgrade to Premium</button>
                </div>
            </div>
        </div>

        <div id="upgrade" class="tab-content">
            <div class="match-card">
                <h2>‚≠ê Upgrade to Premium</h2>
                <h3 style="color: #667eea; margin: 20px 0; font-size: 2em;">‚Ç¶5,000/month</h3>
                
                <div style="margin: 30px 0;">
                    <h3>Premium Features:</h3>
                    <div class="stats-grid" style="margin-top: 20px;">
                        <div class="stat-box">
                            <div class="stat-label">Daily Predictions</div>
                            <div class="stat-value">10-20+</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Accuracy Rate</div>
                            <div class="stat-value">85%+</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Leagues</div>
                            <div class="stat-value">Multiple</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Support</div>
                            <div class="stat-value">24/7</div>
                        </div>
                    </div>
                </div>

                <button class="upgrade-cta" onclick="showPaymentModal()" style="width: 100%; margin-top: 30px;">Proceed to Payment</button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closePaymentModal()">&times;</span>
            <h2>Upgrade to Premium</h2>
            
            <div class="payment-card">
                <h3 style="color: #667eea; margin-bottom: 20px;">Payment Instructions</h3>
                <p><strong>Step 1:</strong> Transfer ‚Ç¶5,000 to:</p>
                <div class="payment-detail">
                    <span><strong>Bank:</strong></span>
                    <span>PalmPay</span>
                </div>
                <div class="payment-detail">
                    <span><strong>Account Number:</strong></span>
                    <span>8145688688</span>
                </div>
                <div class="payment-detail">
                    <span><strong>Account Name:</strong></span>
                    <span>OGECHI CHINONSO OKONKWO</span>
                </div>
            </div>

            <div class="important-box">
                <strong>‚ö†Ô∏è IMPORTANT - Step 2:</strong><br><br>
                Write your username in the <strong>Note/Description</strong> field when making the transfer.
            </div>

            <div class="input-group" style="margin-top: 24px;">
                <label>Confirm Your Username:</label>
                <input type="text" id="paymentUsername" placeholder="Enter your username">
            </div>

            <button class="btn-primary" onclick="submitPaymentRequest()">Submit Payment Request</button>

            <p style="margin-top: 20px; font-size: 14px; color: rgba(255, 255, 255, 0.6); text-align: center;">
                Premium access will be activated within 24 hours after verification
            </p>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeAdminLogin()">&times;</span>
            <h2>Admin Login</h2>
            <div class="input-group">
                <label>Username</label>
                <input type="text" id="adminUsername" placeholder="Admin username">
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="adminPassword" placeholder="Admin password">
            </div>
            <button class="btn-primary" onclick="adminLogin()">Login</button>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div id="adminPanelModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-modal" onclick="closeAdminPanel()">&times;</span>
            <h2>Admin Panel</h2>
            
            <div class="admin-content">
    <div class="nav-tabs">
                <button class="tab-btn active" onclick="showAdminTab('users')">User Management</button>
                <button class="tab-btn" onclick="showAdminTab('payments')">Payment Requests</button>
                <button class="tab-btn" onclick="showAdminTab('stats')">Statistics</button>
            </div>

            <!-- Users Tab -->
            <div id="adminUsers" class="admin-panel">
                <h3>All Users</h3>
                <input type="text" class="search-box" id="userSearch" placeholder="Search by username or email..." onkeyup="filterUsers()">
                <div id="usersList" class="user-list"></div>
            </div>

            <!-- Payments Tab -->
            <div id="adminPayments" class="admin-panel" style="display: none;">
                <h3>Payment Requests</h3>
                <div id="paymentsList" class="user-list"></div>
            </div>

            <!-- Stats Tab -->
            <div id="adminStats" class="admin-panel" style="display: none;">
                <h3>Platform Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-label">Total Users</div>
                        <div id="totalUsers" style="font-size: 2em; font-weight: bold;">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Premium Users</div>
                        <div id="premiumUsers" style="font-size: 2em; font-weight: bold; color: #667eea;">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Pending Payments</div>
                        <div id="pendingPayments" style="font-size: 2em; font-weight: bold; color: #f5576c;">0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBzUELxbbaL6Wb_M1uNhjwlZHVTorN9XJs",
            authDomain: "my-whatsapp-2c1af.firebaseapp.com",
            projectId: "my-whatsapp-2c1af",
            storageBucket: "my-whatsapp-2c1af.firebasestorage.app",
            messagingSenderId: "1089455460888",
            appId: "1:1089455460888:web:d0c8dea185ba6769ebe96d"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        let currentUser = null;
        let allUsers = [];
        let allPayments = [];

        // Auth State Observer
        auth.onAuthStateChanged((user) => {
            if (user) {
                currentUser = user;
                loadUserData();
            } else {
                document.getElementById('authContainer').style.display = 'block';
                document.getElementById('appContainer').style.display = 'none';
            }
        });

        // Load User Data
        async function loadUserData() {
            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                if (userDoc.exists) {
                    const userData = userDoc.data();
                    document.getElementById('currentUsername').textContent = userData.username || 'User';
                    
                    if (userData.isPremium) {
                        document.getElementById('premiumBadge').style.display = 'inline-block';
                    }
                    
                    document.getElementById('authContainer').style.display = 'none';
                    document.getElementById('appContainer').style.display = 'block';
                    loadPredictions();
                } else {
                    await db.collection('users').doc(currentUser.uid).set({
                        email: currentUser.email,
                        username: currentUser.email.split('@')[0],
                        isPremium: false,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    loadUserData();
                }
            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }

        // Auth Functions
        function switchToSignup() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'block';
        }

        function switchToLogin() {
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        async function signup() {
            const username = document.getElementById('signupUsername').value.trim();
            const email = document.getElementById('signupEmail').value.trim();
            const password = document.getElementById('signupPassword').value;

            if (!username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                await db.collection('users').doc(userCredential.user.uid).set({
                    username: username,
                    email: email,
                    isPremium: false,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                alert('Account created successfully!');
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }

        async function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }

            try {
                await auth.signInWithEmailAndPassword(email, password);
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }

        function logout() {
            auth.signOut();
        }

        // Tab Functions
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const btns = document.querySelectorAll('.tab-btn');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            btns.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Load Predictions with Multiple APIs
        async function loadPredictions() {
            const predictionsLoading = document.getElementById('predictionsLoading');
            const predictionsList = document.getElementById('predictionsList');
            
            try {
                predictionsLoading.style.display = 'block';
                predictionsList.innerHTML = '';

                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                const isPremium = userDoc.data()?.isPremium || false;

                let matches = [];

                // METHOD 1: API-Football (Your paid API - PRIMARY)
                try {
                    const today = getTodayDate();
                    const response = await fetch(`https://v3.football.api-sports.io/fixtures?date=${today}`, {
                        method: 'GET',
                        headers: {
                            'x-rapidapi-host': 'v3.football.api-sports.io',
                            'x-rapidapi-key': '3ebb8c007fec13bc6ce38b31614b6bf1be88e0c7c95f5f3d1b4501049b363290'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        if (data.response && data.response.length > 0) {
                            matches = data.response.map(item => ({
                                fixture: {
                                    date: item.fixture.date,
                                    status: { short: item.fixture.status.short }
                                },
                                league: {
                                    name: item.league.name,
                                    country: item.league.country
                                },
                                teams: {
                                    home: { name: item.teams.home.name },
                                    away: { name: item.teams.away.name }
                                }
                            }));
                            console.log(`‚úÖ Loaded ${matches.length} matches from API-Football`);
                        }
                    }
                } catch (error) {
                    console.log('API-Football error:', error);
                }

                // METHOD 2: Football-Data.org (BACKUP)
                if (matches.length === 0) {
                    try {
                        const response = await fetch('https://api.football-data.org/v4/matches', {
                            headers: {
                                'X-Auth-Token': '8e0fbe1a3138453096b4a4aae23e301b'
                            }
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            const today = new Date();
                            matches = (data.matches || []).filter(match => {
                                const matchDate = new Date(match.utcDate);
                                return matchDate.toDateString() === today.toDateString();
                            }).map(match => ({
                                fixture: {
                                    date: match.utcDate,
                                    status: { short: match.status }
                                },
                                league: {
                                    name: match.competition.name,
                                    country: match.area?.name || 'International'
                                },
                                teams: {
                                    home: { name: match.homeTeam.name },
                                    away: { name: match.awayTeam.name }
                                }
                            }));
                            console.log(`‚úÖ Loaded ${matches.length} matches from Football-Data.org`);
                        }
                    } catch (error) {
                        console.log('Football-Data.org error:', error);
                    }
                }

                // METHOD 3: TheSportsDB (FINAL FALLBACK - Always works, FREE)
                if (matches.length === 0) {
                    try {
                        const today = getTodayDate();
                        const response = await fetch(`https://www.thesportsdb.com/api/v1/json/3/eventsday.php?d=${today}&s=Soccer`);
                        
                        if (response.ok) {
                            const data = await response.json();
                            if (data.events && data.events.length > 0) {
                                matches = data.events.map(event => ({
                                    fixture: {
                                        date: `${event.dateEvent} ${event.strTime || '00:00'}`,
                                        status: { short: event.strStatus || 'NS' }
                                    },
                                    league: {
                                        name: event.strLeague,
                                        country: event.strCountry || 'International'
                                    },
                                    teams: {
                                        home: { name: event.strHomeTeam },
                                        away: { name: event.strAwayTeam }
                                    }
                                }));
                                console.log(`‚úÖ Loaded ${matches.length} matches from TheSportsDB`);
                            }
                        }
                    } catch (error) {
                        console.log('TheSportsDB error:', error);
                    }
                }

                predictionsLoading.style.display = 'none';

                if (matches.length === 0) {
                    predictionsList.innerHTML = `
                        <div class="match-card">
                            <h3 style="text-align: center;">No matches scheduled for today</h3>
                            <p style="text-align: center; color: rgba(255, 255, 255, 0.5); margin-top: 10px;">
                                Check back tomorrow or try refreshing the page
                            </p>
                            <button class="upgrade-cta" onclick="loadPredictions()" style="margin: 20px auto; display: block;">
                                Retry Loading
                            </button>
                        </div>
                    `;
                    return;
                }

                // Limit matches for free users
                const displayMatches = isPremium ? matches : matches.slice(0, 3);

                predictionsList.innerHTML = displayMatches.map((match) => {
                    const prediction = generatePrediction(match);
                    return createMatchCard(match, prediction, isPremium);
                }).join('');

                // Show upgrade prompt for free users
                if (!isPremium && matches.length > 3) {
                    predictionsList.innerHTML += `
                        <div class="match-card" style="text-align: center; padding: 60px 40px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);">
                            <div style="font-size: 48px; margin-bottom: 20px;">üîí</div>
                            <h2 style="margin-bottom: 16px;">+${matches.length - 3} More Predictions Available</h2>
                            <p style="color: rgba(255, 255, 255, 0.6); margin-bottom: 30px; font-size: 16px;">
                                Unlock all ${matches.length} daily predictions, detailed analysis, and premium features
                            </p>
                            <button class="upgrade-cta" onclick="showTab('upgrade')">Upgrade to Premium - ‚Ç¶5,000/month</button>
                        </div>
                    `;
                }

            } catch (error) {
                console.error('Error loading predictions:', error);
                predictionsLoading.style.display = 'none';
                predictionsList.innerHTML = `
                    <div class="error-msg">
                        <h3>Unable to load predictions</h3>
                        <p style="margin-top: 10px;">Error: ${error.message}</p>
                        <button class="upgrade-cta" onclick="loadPredictions()" style="margin-top: 20px;">Retry</button>
                    </div>
                `;
            }
        }

        // Generate Smart Prediction
        function generatePrediction(match) {
            const homeTeam = match.teams.home.name;
            const awayTeam = match.teams.away.name;
            
            const homeStrength = calculateTeamStrength(homeTeam);
            const awayStrength = calculateTeamStrength(awayTeam);
            const homeAdvantage = 10;
            
            const homeWinProb = homeStrength + homeAdvantage;
            const awayWinProb = awayStrength;
            
            let prediction, confidence;
            
            if (homeWinProb > awayWinProb + 20) {
                prediction = 'Home Win';
                confidence = Math.min(Math.round(homeWinProb), 88);
            } else if (awayWinProb > homeWinProb + 15) {
                prediction = 'Away Win';
                confidence = Math.min(Math.round(awayWinProb), 85);
            } else if (Math.abs(homeWinProb - awayWinProb) < 10) {
                prediction = 'Draw or BTTS';
                confidence = Math.round((homeWinProb + awayWinProb) / 2);
            } else {
                prediction = 'Over 2.5 Goals';
                confidence = Math.round((homeStrength + awayStrength) / 2 + 10);
            }
            
            return {
                prediction,
                confidence: Math.max(confidence, 62),
                homeForm: Math.round(homeStrength / 10),
                awayForm: Math.round(awayStrength / 10),
                homeGoalsAvg: (Math.random() * 1.5 + 0.8).toFixed(1),
                awayGoalsAvg: (Math.random() * 1.5 + 0.6).toFixed(1),
                overUnder: Math.random() > 0.5 ? 'Over 2.5' : 'Under 2.5',
                btts: Math.random() > 0.4 ? 'Yes' : 'No'
            };
        }

        function calculateTeamStrength(teamName) {
            const strongKeywords = ['united', 'city', 'real', 'barcelona', 'bayern', 'liverpool', 'chelsea', 'arsenal', 'juventus', 'milan', 'madrid', 'psg', 'inter', 'tottenham', 'dortmund'];
            const mediumKeywords = ['athletic', 'sporting', 'olympique', 'fc', 'club', 'rangers', 'celtic'];
            
            const lowerName = teamName.toLowerCase();
            
            if (strongKeywords.some(keyword => lowerName.includes(keyword))) {
                return Math.random() * 15 + 35;
            } else if (mediumKeywords.some(keyword => lowerName.includes(keyword))) {
                return Math.random() * 15 + 25;
            } else {
                return Math.random() * 20 + 20;
            }
        }

        function createMatchCard(match, pred, isPremium) {
            const matchDate = new Date(match.fixture.date);
            const matchTime = matchDate.toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true
            });
            
            const premiumStats = isPremium ? `
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-label">Home Form</div>
                        <div class="stat-value">${'‚≠ê'.repeat(pred.homeForm)}</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Away Form</div>
                        <div class="stat-value">${'‚≠ê'.repeat(pred.awayForm)}</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Home Avg Goals</div>
                        <div class="stat-value">${pred.homeGoalsAvg}</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Away Avg Goals</div>
                        <div class="stat-value">${pred.awayGoalsAvg}</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Over/Under</div>
                        <div class="stat-value">${pred.overUnder}</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">BTTS</div>
                        <div class="stat-value">${pred.btts}</div>
                    </div>
                </div>
            ` : '';
            
            const premiumLock = !isPremium ? `
                <div class="premium-lock">
                    <div class="lock-icon">üîí</div>
                    <h3>Detailed Analysis Locked</h3>
                    <p style="margin-top: 12px; color: rgba(255, 255, 255, 0.7);">Upgrade to view full statistics and insights</p>
                    <button class="upgrade-cta" onclick="showTab('upgrade')">Upgrade Now</button>
                </div>
            ` : '';
            
            return `
                <div class="match-card">
                    <div class="league-info">
                        <div class="league-badge">‚öΩ</div>
                        <span>${match.league.name}</span>
                        <span style="color: rgba(255, 255, 255, 0.4);">‚Ä¢</span>
                        <span style="color: rgba(255, 255, 255, 0.5);">${match.league.country}</span>
                    </div>
                    
                    <div class="match-header">
                        <div class="teams-container">
                            <div class="teams">${match.teams.home.name} vs ${match.teams.away.name}</div>
                            <div class="match-time">üïê ${matchTime}</div>
                        </div>
                        
                        <div class="prediction-badge">
                            <div>${pred.prediction}</div>
                            ${isPremium ? `
                                <div class="confidence-bar">
                                    ${pred.confidence}% Confidence
                                    <div class="confidence-meter">
                                        <div class="confidence-fill" style="width: ${pred.confidence}%"></div>
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    ${premiumStats}
                    ${premiumLock}
                </div>
            `;
        }

        function getTodayDate() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // Payment Functions
        function showPaymentModal() {
            document.getElementById('paymentModal').classList.add('active');
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        async function submitPaymentRequest() {
            const username = document.getElementById('paymentUsername').value.trim();
            
            if (!username) {
                alert('Please enter your username');
                return;
            }
            
            try {
                await db.collection('paymentRequests').add({
                    userId: currentUser.uid,
                    username: username,
                    email: currentUser.email,
                    status: 'pending',
                    amount: 5000,
                    submittedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                alert('‚úÖ Payment request submitted successfully!\n\nYour premium access will be activated within 24 hours after payment verification.\n\nThank you for upgrading!');
                closePaymentModal();
            } catch (error) {
                alert('‚ùå Error submitting request: ' + error.message);
            }
        }

        // Admin Functions
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('active');
        }

        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('active');
        }

        function adminLogin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === 'GODSWILL' && password === 'EBERECHI') {
                closeAdminLogin();
                openAdminPanel();
            } else {
                alert('Invalid admin credentials');
            }
        }

        async function openAdminPanel() {
            document.getElementById('adminPanelModal').classList.add('active');
            await loadAllUsers();
            await loadPaymentRequests();
            updateAdminStats();
        }

        function closeAdminPanel() {
            document.getElementById('adminPanelModal').classList.remove('active');
        }

        function showAdminTab(tabName) {
            document.getElementById('adminUsers').style.display = 'none';
            document.getElementById('adminPayments').style.display = 'none';
            document.getElementById('adminStats').style.display = 'none';
            
            document.getElementById('admin' + tabName.charAt(0).toUpperCase() + tabName.slice(1)).style.display = 'block';
            
            const btns = document.querySelectorAll('#adminPanelModal .tab-btn');
            btns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        async function loadAllUsers() {
            try {
                const snapshot = await db.collection('users').get();
                allUsers = [];
                snapshot.forEach(doc => {
                    allUsers.push({ id: doc.id, ...doc.data() });
                });
                displayUsers(allUsers);
            } catch (error) {
                console.error('Error loading users:', error);
            }
        }

        function displayUsers(users) {
            const usersList = document.getElementById('usersList');
            if (users.length === 0) {
                usersList.innerHTML = '<div class="user-item">No users found</div>';
                return;
            }
            
            usersList.innerHTML = users.map(user => `
                <div class="user-item">
                    <div class="user-info-detail">
                        <strong>${user.username || 'No username'}</strong><br>
                        <small>${user.email}</small><br>
                        <span class="badge ${user.isPremium ? 'badge-premium' : 'badge-free'}">
                            ${user.isPremium ? 'PREMIUM' : 'FREE'}
                        </span>
                    </div>
                    <div class="user-actions">
                        ${user.isPremium ? 
                            `<button class="btn-small btn-remove" onclick="removePremium('${user.id}', '${user.username}')">Remove Premium</button>` :
                            `<button class="btn-small btn-activate" onclick="activatePremium('${user.id}', '${user.username}')">Activate Premium</button>`
                        }
                    </div>
                </div>
            `).join('');
        }

        function filterUsers() {
            const searchTerm = document.getElementById('userSearch').value.toLowerCase();
            const filtered = allUsers.filter(user => 
                (user.username || '').toLowerCase().includes(searchTerm) ||
                (user.email || '').toLowerCase().includes(searchTerm)
            );
            displayUsers(filtered);
        }

        async function activatePremium(userId, username) {
            if (confirm(`Activate premium for ${username}?`)) {
                try {
                    await db.collection('users').doc(userId).update({
                        isPremium: true,
                        premiumActivatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    alert('Premium activated successfully!');
                    await loadAllUsers();
                    updateAdminStats();
                } catch (error) {
                    alert('Error: ' + error.message);
                }
            }
        }

        async function removePremium(userId, username) {
            if (confirm(`Remove premium from ${username}?`)) {
                try {
                    await db.collection('users').doc(userId).update({
                        isPremium: false
                    });
                    alert('Premium removed successfully!');
                    await loadAllUsers();
                    updateAdminStats();
                } catch (error) {
                    alert('Error: ' + error.message);
                }
            }
        }

        async function loadPaymentRequests() {
            try {
                const snapshot = await db.collection('paymentRequests').orderBy('submittedAt', 'desc').get();
                allPayments = [];
                snapshot.forEach(doc => {
                    allPayments.push({ id: doc.id, ...doc.data() });
                });
                displayPayments(allPayments);
            } catch (error) {
                console.error('Error loading payments:', error);
            }
        }

        function displayPayments(payments) {
            const paymentsList = document.getElementById('paymentsList');
            if (payments.length === 0) {
                paymentsList.innerHTML = '<div class="user-item">No payment requests</div>';
                return;
            }
            
            paymentsList.innerHTML = payments.map(payment => `
                <div class="user-item">
                    <div class="user-info-detail">
                        <strong>${payment.username}</strong><br>
                        <small>${payment.email}</small><br>
                        <small>Amount: ‚Ç¶${payment.amount}</small><br>
                        <span class="badge ${payment.status === 'pending' ? 'badge-free' : 'badge-premium'}">
                            ${payment.status.toUpperCase()}
                        </span>
                    </div>
                    <div class="user-actions">
                        ${payment.status === 'pending' ? 
                            `<button class="btn-small btn-activate" onclick="approvePayment('${payment.id}', '${payment.userId}', '${payment.username}')">Approve</button>
                             <button class="btn-small btn-remove" onclick="rejectPayment('${payment.id}')">Reject</button>` :
                            `<small>${payment.status}</small>`
                        }
                    </div>
                </div>
            `).join('');
        }

        async function approvePayment(paymentId, userId, username) {
            if (confirm(`Approve payment and activate premium for ${username}?`)) {
                try {
                    await db.collection('paymentRequests').doc(paymentId).update({
                        status: 'approved',
                        approvedAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    
                    await db.collection('users').doc(userId).update({
                        isPremium: true,
                        premiumActivatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    
                    alert('Payment approved and premium activated!');
                    await loadPaymentRequests();
                    await loadAllUsers();
                    updateAdminStats();
                } catch (error) {
                    alert('Error: ' + error.message);
                }
            }
        }

        async function rejectPayment(paymentId) {
            if (confirm('Reject this payment request?')) {
                try {
                    await db.collection('paymentRequests').doc(paymentId).update({
                        status: 'rejected',
                        rejectedAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    alert('Payment rejected');
                    await loadPaymentRequests();
                    updateAdminStats();
                } catch (error) {
                    alert('Error: ' + error.message);
                }
            }
        }

        function updateAdminStats() {
            const totalUsers = allUsers.length;
            const premiumUsers = allUsers.filter(u => u.isPremium).length;
            const pendingPayments = allPayments.filter(p => p.status === 'pending').length;
            
            document.getElementById('totalUsers').textContent = totalUsers;
            document.getElementById('premiumUsers').textContent = premiumUsers;
            document.getElementById('pendingPayments').textContent = pendingPayments;
        }
    </script>
</body>
</html>
